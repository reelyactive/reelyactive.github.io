<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description"
          content="Step-by-step guide to install Raspberry Pi OS Lite for lean, headless operation with friendly network settings and the latest version of Node.js.">
    <link rel="stylesheet" href="../common/style/bootstrappyactive.min.css">
    <script type="module" src="../common/js/color-modes.js"></script>
    <title> Headless Raspberry Pi Preparation Guide </title>
    <!----- Structured, linked metadata (JSON-LD & Schema.org) ----->
    <script type="application/ld+json">
    [{
      "@context": "https://schema.org", 
      "@type": "TechArticle",
      "headline": "Headless Raspberry Pi Preparation Guide",
      "description": "Step-by-step guide to install Raspberry Pi OS Lite for lean, headless operation with friendly network settings and the latest version of Node.js.",
      "proficiencyLevel": "Beginner",
      "genre": "tutorial",
      "image": "https://reelyactive.github.io/diy/pi-prep/images/header.jpg",
      "author": {
        "@type": "Organization",
        "url": "https://www.reelyactive.com"
      }
    },
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "reelyActive Developers",
        "item": "https://reelyactive.github.io"
      },{
        "@type": "ListItem",
        "position": 2,
        "name": "Pi Preparation Guide"
      }]
    }]
    </script>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar sticky-top navbar-expand-lg bg-body-tertiary shadow">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">
          <img src="../common/images/reelyactive-developers-logo-nav.png"
               width="135" height="30" alt="reelyActive Developers">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarItems" aria-controls="navbarItems"
                aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarItems">
          <!-- Left-aligned navigation items -->
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          </ul>
          <!-- Right-aligned navigation items -->
          <ul class="navbar-nav">
            <!-- Colour theme chooser -->
            <li class="nav-item dropdown">
              <button class="btn btn-link nav-link dropdown-toggle"
                      id="bd-theme" type="button" aria-expanded="false"
                      data-bs-toggle="dropdown" data-bs-display="static"
                      aria-label="Toggle theme (auto)">
                <i class="fas fa-adjust"></i>
              </button>
              <ul class="dropdown-menu dropdown-menu-end shadow"
                  aria-labelledby="bd-theme-text">
                <li>
                  <button type="button" class="dropdown-item"
                          data-bs-theme-value="light" aria-pressed="false">
                    <i class="fas fa-sun"></i> Light
                  </button>
                </li>
                <li>
                  <button type="button" class="dropdown-item"
                          data-bs-theme-value="dark" aria-pressed="false">
                    <i class="fas fa-moon"></i> Dark
                  </button>
                </li>
                <li>
                  <button type="button" class="dropdown-item active"
                          data-bs-theme-value="auto" aria-pressed="true">
                    <i class="fas fa-adjust"></i> Auto
                  </button>
                </li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarInfoDropdown"
                 role="button" data-bs-toggle="dropdown" aria-haspopup="true"
                 aria-expanded="false">
                <i class="fas fa-question-circle"></i>
              </a>
              <!-- Info about tracking and open source software/licenses -->
              <ul class="dropdown-menu dropdown-menu-end shadow"
                   aria-labelledby="navbarInfoDropdown">
                <li>
                  <a class="dropdown-item"
                     href="https://www.reelyactive.com/how-we-observe/#digital">
                    <i class="fas fa-mouse-pointer"></i>
                    Privacy-centric metrics
                    (<i class="fab fa-cloudflare"></i> beacon.js) &nbsp;
                    <span class="badge bg-warning animate-breathing">
                      <i class="fas fa-user-tag"></i>
                    </span>
                  </a>
                </li>
                <li class="dropdown-divider"></li>
                <li>
                  <a class="dropdown-item" target="_blank"
                     href="https://getbootstrap.com">
                    <i class="fab fa-bootstrap"></i>
                    Bootstrap 5 &nbsp;
                    <span class="badge bg-light text-dark">
                      <i class="fab fa-osi"></i> MIT
                    </span>
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" target="_blank"
                     href="https://fontawesome.com" >
                    <i class="fab fa-font-awesome"></i>
                    Font Awesome (Free) &nbsp;
                    <span class="badge bg-light text-dark">
                      <i class="fab fa-creative-commons"></i>
                      <i class="fab fa-osi"></i> MIT
                    </span>
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" target="_blank"
                     href="https://github.com/reelyactive/web-style-guide/">
                    <i class="fas fa-code"></i>
                    Web Style Guide &nbsp;
                    <span class="badge bg-light text-dark">
                      <i class="fab fa-osi"></i> MIT
                   </span>
                  </a>
                </li>
                <li class="dropdown-divider"></li>
                <li>
                  <a class="dropdown-item" target="_blank"
                     href="https://www.reelyactive.com/made-in-montreal/">
                    <i class="fab fa-canadian-maple-leaf"></i>
                    Made in Montr&eacute;al &nbsp;
                    <i class="fas fa-city"></i>
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Content -->
    <div class="container-fluid">
      <div class="row justify-content-center">
        <div class="col-sm-12 col-md-10 col-lg-8 col-xl-6">
          <h1 class="mt-4"> Install Raspberry Pi OS to an SD Card </h1>
          <p class="lead"> Our step-by-step guide to prepare a lean yet versatile SD card image based on <a href="https://www.raspberrypi.com/software/operating-systems/" target="_blank">Raspberry Pi OS Lite</a>. </p>
          <img src="images/header.png" class="img-fluid" alt="Install Raspberry Pi OS on an SD card">
          <!----- The TL;DR ----->
          <div class="card hover-shadow my-4">
            <div class="card-body">
              <h2>
                The TL;DR
                <small class="text-muted"> (Too Long; Didn't Read) </small>
              </h2>
              <p class="lead"> Learn how we at reelyActive prepare a SD card image for a headless <i class="fab fa-raspberry-pi"></i> Pi. </p>
              <hr>
              <dl class="row">
                <dt class="col-sm-3"> What will this accomplish? </dt>
                <dd class="col-sm-9"> A clean, lean installation of the latest Raspberry Pi OS Lite build ready to install Node.js and other programs like our <a href="https://www.reelyactive.com/pareto/anywhere/" target="_blank"><i class="fas fa-external-link-alt"></i> Pareto Anywhere</a> middleware. </dd>
                <dt class="col-sm-3"> Why would I read this? </dt>
                <dd class="col-sm-9"> To understand and follow the process to create your own SD card <i class="fas fa-sd-card"></i> image. </dd>
                <dt class="col-sm-3"> What is a headless system? </dt>
                <dd class="col-sm-9"> A system without a monitor, keyboard or mouse, typically accessed remotely over a network. </dd>
              </dl>
            </div>
          </div>
          <!----- Step 1 of 2 ----->
          <div class="card hover-shadow mt-5 bg-body-secondary border-0">
            <div class="card-body pt-4">
              <h2 id="step01" class="card-title my-2">
                Flashing the OS to a SD Card &nbsp;
                <a href="#step01" class="badge bg-primary"> Step 1 of 2 </a>
              </h2>
              <p class="lead"> Download the latest version of Raspberry Pi Imager. </p>
              <hr>
              <dl class="row">
                <dt class="col-sm-3"> Why Raspberry Pi Imager? </dt>
                <dd class="col-sm-9"> 
                  <p>
                    It is officially supported by the Raspberry Pi Foundation and works on various OSes, including Raspberry Pi OS itself.
                    It manages all of the various Raspberry Pi OS images, ensuring you'll be installing the latest available option for your selection.</p>
                </dd>
                <dt class="col-sm-3"> Why Pi OS Lite? </dt>
                <dd class="col-sm-9"> It includes all the key ingredients for headless operation while keeping the disk image small. </dd>
                <dt class="col-sm-3"> Why OS customisation? </dt>
                <dd class="col-sm-9"> Unless you have a monitor and keyboard for the Raspberry Pi, good luck with the first connection otherwise! </dd>
            </div>
          </div>
          <h3 class="mt-4"> Prerequisites </h3>
          <ul class="list-group list-group-horizontal mb-4">
            <li class="list-group-item border-0">
              <i class="fab fa-raspberry-pi display-2"></i>
            </li>
            <li class="list-group-item border-0">
              <h5 class="mt-0 mb-1">
                Raspberry Pi Imager
              </h5>
              A friendly open source tool that can be downloaded from here: <a href="https://www.raspberrypi.com/software/" target="_blank">Raspberry Pi Imager</a> 
            </li>
          </ul>
          <ul class="list-group list-group-horizontal mb-4">
            <li class="list-group-item border-0">
              <i class="fas fa-sd-card display-2"></i>
            </li>
            <li class="list-group-item border-0">
              <h5 class="mt-0 mb-1">
                SD Card
              </h5>
              We recommend using micro SD cards from reputable vendors of at least 4GB size.
            </li>
          </ul>
          <h3 class="mt-4">
            Flash the Raspberry Pi OS image to the SD card
            <small class="text-muted"> Part 1 </small>
          </h3>
          <p class="lead"> From the computer with which you intend to flash the SD card <i class="fas fa-sd-card"></i>: </p>
          <ol>
            <p>
              <li> Insert the SD card (using an SD card reader if required) and observe that it is recognised/mounted by the operating system. </li>
            </p>
            <p>
              <li> Run Raspberry Pi Imager by double-clicking its executable AppImage or desktop icon. </li>
            </p>
            <p>
            <li>
              <p>In the Raspberry Pi Imager interface:</p>
                <div>
                  <div id="carouselRaspberryPiImager"
                       class="carousel carousel-dark slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                      <div class="carousel-item active">
                        <img src="images/imager1.png" class="d-block w-100">
                      </div>
                      <div class="carousel-item">
                        <img src="images/imager2.png" class="d-block w-100">
                      </div>                  
                      <div class="carousel-item">
                        <img src="images/imager3.png" class="d-block w-100">
                      </div>
                      <div class="carousel-item">
                        <img src="images/imager4.png" class="d-block w-100">
                      </div>
                      <div class="carousel-item">
                        <img src="images/imager5.png" class="d-block w-100">
                      </div>
                      <div class="carousel-item">
                        <img src="images/imager6.png" class="d-block w-100">
                      </div>
                      <div class="carousel-item">
                        <img src="images/imager7.png" class="d-block w-100">
                      </div>                  
                    </div>
                    <button class="carousel-control-prev" type="button"
                            data-bs-target="#carouselRaspberryPiImager"
                            data-bs-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true">
                      </span>
                      <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button"
                            data-bs-target="#carouselRaspberryPiImager"
                            data-bs-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true">
                      </span>
                      <span class="visually-hidden">Next</span>
                    </button>
                  </div>
              </div>
              <p>
              <div>            
                <p>
                  <span class="badge bg-secondary"> 1 </span> &nbsp;
                  Click the <em>"Choose Device"</em> button.
                </p>
                <p>
                  <span class="badge bg-secondary"> 2 </span> &nbsp;
                  Select "Raspberry Pi 4" from the list of devices.
                </p>
                <p>
                  <span class="badge bg-secondary"> 3 </span> &nbsp;
                  Click the <em>"Choose OS"</em> button.
                </p>            
                <p>
                  <span class="badge bg-secondary"> 4 </span> &nbsp;
                  Scroll down and select <em>"Raspberry Pi OS (other)"</em>.
                </p>
                <p>
                  <span class="badge bg-secondary"> 5 </span> &nbsp;
                  Select <em>"Raspberry Pi OS Lite (64-bit)"</em> from the list of available OSes.
                </p>
                <p>
                  <span class="badge bg-secondary"> 6 </span> &nbsp;
                  Click the <em>"Choose Storage"</em> button.
                </p>
                <p>
                  <span class="badge bg-secondary"> 7 </span> &nbsp;
                  Select the SD card from the list of available storage devices.
                </p>
              </div>
            </p>
            </li>
          </p>
          </ol>

         
          <h3 class="mt-4">
            Pre-configuring the OS
            <small class="text-muted"> Part 2 </small>
          </h3>      
          <p class="lead"> Configure Raspberry Pi OS <i>before first boot</i> with Raspberry Pi Imager, ensuring a painless initial connection. </p>    
          <p class="mt-4">
            After selecting the <b>Raspberry Pi Device</b>, the <b>Operating System</b>, and <b>Storage</b>, when selecting "Next", a dialogue will ask if you'd like to customise the Raspberryp Pi OS settings. 
            <div id="carouselEditCustomisation" class="carousel carousel-dark slide" data-bs-ride="carousel" data-bs-interval="2400">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img src="images/imager-next.png"
                  class="card-img-bottom"
                  alt="Customisation prompt dialogue">
                </div>
                <div class="carousel-item">
                  <img src="images/imager-customisation.png"
                  class="card-img-bottom"
                  alt="Customisation prompt dialogue">
                </div>
              </div>
              <button class="carousel-control-prev" type="button"
                data-bs-target="#carouselEditCustomisation"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true">
                </span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button class="carousel-control-next" type="button"
                      data-bs-target="#carouselEditCustomisation"
                      data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true">
                </span>
                <span class="visually-hidden">Next</span>
              </button>            
            </div>
          </p>
          <p> <span class="badge rounded-pill bg-warning"><i class="fas fa-exclamation-triangle"></i></span>
            Be sure to select "Edit Settings"; selecting "Yes" will apply the settings previously used and you may have to start over! </p>
          </p>
          <h3 class="mt-4">
            Set customisation options
          </h3>
          <p>From the <em>General</em> tab:</p>
            <p>
              <span class="badge bg-secondary"> 1 </span> &nbsp;
              <strong>Set hostname:</strong>
                For example, you can set it to `<strong><em>pareto</em></strong>`. This is how the Raspberry Pi will appear on the network.
            </p>
            <p>
              <span class="badge bg-secondary"> 2 </span> &nbsp;
                <strong>Set  username and password:</strong>
                For example, you can use `<strong><em>pi</em></strong>` for the username and `<strong><em>berryinsecure</em></strong>` for the password. This will be the username and password used when logging in to the Raspberry Pi via the terminal or SSH.
                <p> <span class="badge rounded-pill bg-primary"><i class="fas fa-info"></i></span> <a href="https://www.raspberrypi.com/news/raspberry-pi-bullseye-update-april-2022/" target="_blank">As of April 2022</a>, Raspberry Pi OS no longer ships with a default username & password! </p>
            </p>
            <p>
              <span class="badge bg-secondary"> 3 </span> &nbsp;
              <strong>Configure wireless LAN: </strong>
              Set the SSID and password for the WiFi network to which the Raspberry Pi will connect.
              <br>
              Choose the country code for your region.
            </p>
            <p>
              <span class="badge bg-secondary"> 4 </span> &nbsp;
              <strong>Set locale settings:</strong> (OPTIONAL) Select the Time zone and Keyboard layout. It is not required at this step and can be set later if desired.</li>
            </p>
            <p>From the <em>Services</em> tab:</p>
            <p>
              <span class="badge bg-secondary"> 5 </span> &nbsp;
              <strong>Enable SSH:</strong> Select <em>"Enable SSH"</em> and select the <em>"Use password authentication"</em> radio button.</em> 
              This will allow you to login to the Pi via SSH using the username and password you earlier.
            </li>
            </p>
          <div id="carouselCustomisation" class="carousel carousel-dark slide" data-bs-ride="carousel" data-bs-interval="2400">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img src="images/imager-customisation-general.png"
                class="card-img-bottom"
                alt="Customisation prompt dialogue">
              </div>
              <div class="carousel-item">
                <img src="images/imager-customisation-services.png"
                class="card-img-bottom"
                alt="Customisation prompt dialogue">
              </div>
            </div>
            <button class="carousel-control-prev" type="button"
            data-bs-target="#carouselCustomisation"
            data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true">
            </span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button"
                  data-bs-target="#carouselCustomisation"
                  data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true">
            </span>
            <span class="visually-hidden">Next</span>
          </button>            
          </div>
          <!----- Step 2 of 2 ----->
          <div class="card hover-shadow mt-5 bg-body-secondary border-0">
            <div class="card-body pt-4">
              <h2 id="step02" class="card-title my-2">
                First boot &nbsp;
                <a href="#step02" class="badge bg-primary"> Step 2 of 2 </a>
              </h2>
              <p class="lead"> Boot the Pi for the first time and connect via SSH over WiFi. </p>
              <hr>
              <dl class="row">
                <dt class="col-sm-3"> Why connect over WiFi? </dt>
                <dd class="col-sm-9"> The Raspberry Pi Imager makes it easy to configure the WiFi settings, so why not? </dd>
                <dt class="col-sm-3"> Why use SSH? </dt>
                <dd class="col-sm-9"> Unless you have a display and keyboard connected to the Pi, the only way to remotely execute commands is over SSH! </dd>
              </dl>
            </div>
          </div>
          <p class="mt-4"> <span class="badge rounded-pill bg-primary"><i class="fas fa-info"></i></span> The SD card should only be inserted into (or removed from) the Pi when it is <em>disconnected</em> from power. </p>
          <h3 class="mt-4">
            Boot the Pi and connect via SSH over WiFi
            <small class="text-muted"> Part 1 </small>
          </h3>
          <p class="lead"> With the SD card <i class="fas fa-sd-card"></i> inserted into the <i class="fab fa-raspberry-pi"></i> Pi, complete the following: </p>
          <ol>
            <p>
              <li> Insert the SD card into the Raspberry Pi. </li>
            </p>
            <p>
              <li> Plug in the Raspberry Pi so that it turns on. </li>
            </p>
            <p>
              <li> 
                <p>Open a terminal on your laptop and SSH into the Pi with the command: <kbd class="user-select-all">ssh pi:berryinsecure@pareto.local</kbd></p>
                <span class="badge rounded-pill bg-primary"><i class="fas fa-info"></i></span>
                <em>pi</em> and <em>berryinsecure</em> are the username and password entered when customizing the Raspberry Pi. If you change them, use the values you set. <em>pareto</em> is the hostname you set for the Raspberry Pi.
              </li>
            </p>
          </ol>
          <p> Now that you're logged in to the Raspberry Pi, it is possible to execute commands such as <kbd>raspi-config</kbd>.</p>
          <hr>
          <h2> Conclusion </h2>
          <p> 
            You've successfully prepared a lean, headless Raspberry Pi OS Lite installation with friendly network settings.
          </p>
          <!----- Attribution ----->
          <div class="card hover-shadow bg-light border-0 my-5 bg-body-secondary">
            <div class="row g-0">
              <div class="col-2 col-sm-1 align-self-center">
                <div class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="2400">
                  <div class="carousel-inner">
                    <div class="carousel-item active">
                      <img src="../common/images/jeberhardt-bubble-half.png"
                           class="d-block w-100" alt="Contributor">
                    </div>
                    <div class="carousel-item">
                      <img src="../common/images/herowl.png"
                           class="d-block w-100" alt="reelyActive half-rnowl">
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-10 offset-sm-1 align-self-center">
                <div class="card-body">
                  <p class="card-text lead"> Tutorial prepared with <span class="text-secondary animate-breathing">&hearts;</span> by <a href="https://github.com/jeberhardt" target="_blank">James Eberhardt</a>. </p>
                  <small class="card-text text-muted"> You can <i class="fas fa-hand-holding-heart"></i> <a href="https://www.reelyactive.com/" target="_blank">reelyActive</a>'s <b>open source</b> efforts <em>directly</em> by contributing code & docs, <em>collectively</em> by sharing across your network, and <em>commercially</em> through <a href="https://www.reelyactive.com/pricing/#content" target="_blank">our packages</a>. </small>
                </div>
              </div>
            </div>
          </div>
          <!----- Where to next ----->
          <hr class="my-4">
          <h2> Where to next? </h2>
          <p class="lead"> Continue exploring our open architecture and all its applications. </p>
          <ul class="list-group list-group-horizontal">
            <li class="list-group-item border-0">
              <a href="../pi-kiosk/">
                <img src="../pi-kiosk/images/icon.jpg">
              </a>
            </li>
            <li class="list-group-item border-0">
              <a href="../pi-kiosk/">
                <h5 class="mt-0 mb-1"> Configure a Raspberry Pi as a kiosk display </h5>
              </a>
              Our step-by-step guide to configure a <i class="fab fa-raspberry-pi"></i> Pi as a kiosk display that runs automatically on boot.
            </li>
          </ul>
          <ul class="list-group list-group-horizontal">
            <li class="list-group-item border-0">
              <a href="../../">
                <img src="../common/images/icon.png">
              </a>
            </li>
            <li class="list-group-item border-0">
              <a href="../../">
                <h5 class="mt-0 mb-1"> reelyActive Developers </h5>
              </a>
              Browse all developer documentation and tutorials.
            </li>
          </ul>
          <ul class="list-group list-group-horizontal mb-4">
            <li class="list-group-item border-0">
              <a href="https://www.reelyactive.com" target="_blank">
                <img src="../common/images/icon-reelyactive.png">
              </a>
            </li>
            <li class="list-group-item border-0">
              <a href="https://www.reelyactive.com" target="_blank">
                <h5 class="mt-0 mb-1">
                  <i class="fas fa-external-link-alt"></i> reelyActive
                </h5>
              </a>
              Let's put things in context, one space at a time.
            </li>
          </ul>
        </div>
      </div>
    </div>
    <footer class="footer bg-dark bg-gradient">
      <a href="https://reelyactive.github.io"> reelyActive Developers </a>
      &nbsp; | &nbsp;
      <a href="https://www.reelyactive.com"> &copy; reelyActive 2019-2023 </a>
    </footer>

    <!-- Optional JavaScript -->
    <script defer src="../common/js/fontawesome-reelyactive.min.js"></script>
    <script src="../common/js/bootstrappyactive.bundle.min.js"></script>
    <script defer src='https://static.cloudflareinsights.com/beacon.min.js'
            data-cf-beacon='{"token": "75099ede11644990a7ffdffc6c28f487"}'>
    </script>
  </body>
</html>
