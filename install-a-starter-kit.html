<!DOCTYPE HTML>
<html>
  <head>
    <title>diyActive: Install a Starter Kit</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style/main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.13.4/ui-bootstrap-tpls.min.js"></script>
    <script type="text/javascript" src="js/diyactive.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-49659454-2', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
  <body ng-app="diyActive">
    <div ng-controller="InteractionCtrl">
      <nav class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle"
                  ng-init="navCollapsed = true"
                  ng-click="navCollapsed = !navCollapsed">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://context.reelyactive.com">
            <strong>reely</strong>Active
          </a>
        </div>
        <div class="collapse navbar-collapse" ng-class="!navCollapsed && 'in'"
             ng-click="navCollapsed = true">
          <ul class="nav navbar-nav navbar-right">
            <li class="active"><a href="index.html"> diyActive </a></li>
            <li class="dropdown" dropdown on-toggle="toggled(open)">
              <a href class="dropdown-toggle" dropdown-toggle role="button"
                 data-toggle="dropdown" aria-haspopup="true"
                 aria-expanded="false">
                Quick links <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a href="https://github.com/reelyactive/" target="_blank">
                    reelyActive on GitHub
                  </a>
                </li>
                <li>
                  <a href="https://www.npmjs.com/~reelyactive" target="_blank">
                    reelyActive on npmjs
                  </a>
                </li>
                <li role="separator" class="divider"></li>
                <li>
                  <a href="http://www.hyperlocalcontext.com" target="_blank">
                    www.hyperlocalcontext.com
                  </a>
                </li>
                <li>
                  <a href="http://smartspac.es" target="_blank">
                    smartspac.es
                  </a>
                </li>
                <li role="separator" class="divider"></li>
                <li>
                  <a href="http://shop.reelyactive.com" target="_blank">
                    Our online store
                  </a>
                </li>
                <li>
                  <a href="http://context.reelyactive.com" target="_blank">
                    Our website
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </nav>
      <div class="container-fluid">
        <div class="row">
          <div class="col-xs-0 col-sm-1 col-md-2 col-lg-3"></div>
          <div class="col-xs-12 col-sm-10 col-md-8 col-lg-6">
            <h1> Install a Starter Kit </h1>
            <p> Here we'll present how to install a starter kit.  At the end of this tutorial you'll have a stream of sensor data arriving at your PC/server ready to be processed by any of our <b>open source software</b>.</p>
            <div class="well well-sm"> <b>NOTE:</b> If your starter kit includes a Pareto trial, visit <a href="http://getpareto.com/connect/" target="_blank"> <b>getpareto.com/connect/</b> </a> to connect in three easy steps. </div>
            <p>Select your starter kit and follow the instructions below: </p>
            <tabset>
              <tab heading="Minimal Starter Kit">
                <br>
                <p> You should have in front of you the following kit: </p>
                <img src="images/minimalStarterKit.jpg"
                     class="img-responsive center-block">
                <h2> Install Node.js </h2>
                <p> If you don't already have Node.js installed, be sure to do so first!  Installation is easy on all platforms.  We recommend you select the LTS version. </p>
                <p class="text-center">
                  <a class="btn btn-primary" href="https://nodejs.org"
                     target="_blank" role="button"> Let's do it </a>
                </p>
                <h2> Install the Hardware </h2>
                <p> <i> Take care to stick it in the right hole! </i> &nbsp;  Seriously, read on... </p>
                <h3> Connect the Reelceiver </h3>
                <p> Plug the reelceiver into the hub so that the <b>Hub &#8594;</b> arrow points towards the hub.  Note that the reelceiver will still power on if it's connected in the wrong orientation, but it will <i>not</i> communicate with the hub. </p>
                <h3> Connect the Hub to your PC/server </h3>
                <p> Plug the other end of the hub into a free USB port on your PC or server.  The reelceiver should power on as indicated by its blinking LED. </p>
                <h2> Install the Software </h2>
                <p> This tutorial assumes you have basic familiarity working from the console. </p>
                <h3> Download server-usb.js </h3>
                <p> Create a new directory called reelyActive.  Download <a href="resources/server-usb.js" target="_blank">server-usb.js</a> to that directory. </p>
                <p> <i>Alternatively</i>, create the server-usb.js file and paste in the following code: </p>
                <pre>
var server = require('hlc-server');               // Import the package
var app = new server();                           // Fire up the server
app.bind( { protocol: 'serial', path: 'auto' } ); // Listen on USB
console.log('Browse to http://localhost:3001');   // Friendly reminder </pre>
                <h3> Install Software Packages </h3>
                <p> The above code depends on our hlc-server package, as well as the serialport package in order to listen over USB.  From the console, browse to the reelyActive directory you created.  Then run the following two commands: <br> <code> npm install hlc-server </code> <br> <code> npm install serialport </code> </p>
                <p>  If you experience any problems with the latter, consult the <a href="https://github.com/EmergingTechnologyAdvisors/node-serialport#installation-instructions" target="_blank">serialport package documentation</a> for specific instructions. </p>
                <h2> Run the Software </h2>
                <p> From the console, again from the reelyActive directory you created, run the following command: <br> <code> node server-usb </code> </p>
                <p> Point your browser to <a href="http://localhost:3001" target="_blank"> http://localhost:3001 </a> and you should be rewarded with a screen like this: </p>
                <img src="images/hlcLanding.png"
                     class="img-responsive center-block">
                <h3> Explore the Bubblescape and Sensorscape </h3>
                <p> Click on the <a href="http://localhost:3001/bubblescape/" target="_blank"> bubblescape button </a> for a visualisation of all devices detected by the reelceiver. </p>
                <p> Click on the <a href="http://localhost:3001/sensorscape/" target="_blank"> sensorscape button </a> for a visualisation of the real-time sensor data from compatible devices (ex: Estimote Nearables) detected by the reelceiver. </p>
                <h3> Query the APIs </h3>
                <p> Enter the 16-digit identifier of the reelceiver into the query box and then select from the pull-downs: </p>
                <ul>
                  <li> Context at | receiver id </li>
                  <li> What at | receiver id </li>
                </ul>
                <p> to discover what devices are detected by your reelceiver, in contextual and RTLS representations, respectively. </p>
                <img src="images/barnowl-setup.png"
                     class="img-responsive center-block">
              </tab>
              <tab heading="BLE Starter Kit">
                <br>
                <p> You should have in front of you the following kit: </p>
                <img src="images/starterkitBLE.jpg"
                     class="img-responsive center-block">
                <h2> Installing Node.js </h2>
                <p> If you don't already have Node.js installed, be sure to do so first!  Installation is easy on all platforms.  We recommend you select the LTS version. </p>
                <p class="text-center">
                  <a class="btn btn-primary" href="https://nodejs.org"
                     target="_blank" role="button"> Let's do it </a>
                </p>
                <h2> Connect Power </h2>
                <p> Take the wall adapter provided with your kit and plug it into the mains.  If you don't have access to a North American outlet, you'll need an adapter.  Don't worry about the voltage, we've provided you with a kick-ass adapter with global compatibility and enough power to drive reely long reels with plenty of reelceivers. </p>
                <p> Plug the barrel connector of the wall adapter into the receptacle on the hub's cable harness.  You should hear a beeping sound.  That's good! </p>
                <h2> Connect the Reel </h2>
                <p> Now we can connect the reelceivers in a daisy-chain configuration we call a reel. This is pure plug-n-play simplicity, just take into account the following:
                  <ul>
                    <li> The reelceivers are <i>directional</i>.  Plug the reelceiver into the cable harness of the hub so that the <b>Hub &#8594;</b> arrow points towards the hub.  Note that the reelceiver will still power on if it's connected in the wrong orientation, but it will <i>not</i> communicate with the hub.
                    <li> The order in which reelceivers are connected is not important: you can even mix reelceiver types - just respect the directionality!
                    <li> Reelceivers don't communicate via Ethernet, even if they use the same Cat5 cables as Ethernet.  Be sure to plug them into the hub's cable harness, not LAN1 or LAN2!
                  </ul>
                </p>
                <img src="images/reel.jpg"
                     class="img-responsive center-block">
                <p> Daisy chain all of your reelceivers to the hub (you'll need to supply the additional cables, any network cable will do).  Each reelceiver's LED should blink if it is receiving power.  Good job!
                </p>
                <h2> Connect the Hub to your Ethernet switch </h2>
                <p> Connect one end of a network cable (not provided) to LAN2 on the hub, and the other end to a free port on your Ethernet switch.  If the switch is DHCP-enabled, the hub will automatically obtain an IP address and be connected to your network. </p>
                <p> That was easy!  Next up: the joys of IP settings... </p>
                <h2> Direct the packets to your PC/server </h2>
                <p> We'll now make two critical assumptions:
                  <ol>
                    <li> Your PC/server is on the same network as the hub and you know how to determine its IP address
                    <li> You know how to determine the IP address assigned to the hub by your switch
                  </ol>
                </p>
                <p> If that's not the case, please <a href="#ip-direct">read this</a>.  Otherwise, open a browser window and log on to the hub by entering its IP address.  The default login credentials are:
                  <ul>
                    <li> <b>Username:</b> &nbsp; admin
                    <li> <b>Password:</b> &nbsp; (blank)
                  </ul>
                </p>
                <p> Select Serial - COM1 from the menu at left.  Then specify the IP address of your PC/server as Destination IP Address 1.  In the example below we selected 192.168.1.101. </p>
                <img src="images/se5901-com.png"
                     class="img-responsive center-block">
                <p> Click Save & Apply.  In a moment, packets will be routed to your PC/server via UDP. </p>
                <h2 id="barnowl-udp"> Run barnowl </h2>
                <p> Here we'll run <a href="https://www.npmjs.org/package/barnowl" target="_blank">barnowl</a>, our open source middleware package which listens for the data stream, processes it and outputs the result. </p>
                <p> Create a new directory called hello-barnowl, then from that directory run: <br> <code> npm install barnowl </code> </p>
                <p> In the same directory, create a file called hello-barnowl.js and paste in the following code: </p>
                <pre>
var barnowl = require('barnowl');
var middleware = new barnowl();
middleware.bind({ protocol: 'udp', 
                  path: '192.168.1.101:50000' }); <b>// Server IP address here!!!</b>
middleware.on('visibilityEvent', function(tiraid) { 
  console.log(tiraid); 
});             </pre>
                <p> Now simply run: <br> <code> node hello-barnowl.js </code> </p>
                <p> and you should see data being output to the console.  These are radio transmissions being captured by the reelceivers.  It works! </p>
                <img src="images/barnowl-setup.png"
                     class="img-responsive center-block">
                <hr>
                <h2 id="ip-direct"> Alternative: direct-connect to hub </h2>
                <p> It is possible to directly connect your PC to the hub and receive the data stream.  In this section we'll explain how. </p>
                <p> Connect one end of a network cable (not provided) to LAN1 on the hub, and the other end to your PC.  Now you'll need to change the IP address of your PC to <b>10.0.50.101</b>. If you don't know how to do this, search the Internet for "How to change my IP address in OS" where OS is the name of your operating system. </p>
                <p> Open a browser window and log on to the hub by entering its IP address: <b>10.0.50.100</b>.  The default login credentials are:
                  <ul>
                    <li> <b>Username:</b> &nbsp; admin
                    <li> <b>Password:</b> &nbsp; (blank)
                  </ul>
                </p>
                <p> Select Serial - COM1 from the menu at left.  Then specify the IP address of your PC as Destination IP Address 1: <b>10.0.50.101</b>. </p>
                <img src="images/se5901-com-direct.png"
                     class="img-responsive center-block">
                <p> Click Save & Apply. </p>
                <p> Select Network Settings from the menu at left.  Then ensure that LAN1 is selected as Default Gateway. </p>
                <img src="images/se5901-network-direct.png"
                     class="img-responsive center-block">
                <p> Click Save & Apply.  In a moment, packets will be routed to your PC via UDP.  Now you can <a href="#barnowl-udp">run barnowl</a> taking care to specify <b>10.0.50.101:50000</b> as your path. </p>
              </tab>
            </tabset>
            <hr>
            <h2> What's next? </h2>
            <p> With the hardware in place, you're ready to start exploring the capabilities of the reelyActive platform.  Read our <a href="barnowl-baby-steps.html">Barnowl Baby Steps</a> tutorial to build on what you've already done.  Or try <a href="make-a-smartspace.html">making your own Smart Space</a>.  Enjoy! </p>
            <p class="text-center">
              <a class="btn btn-success" href="index.html"
                 role="button"> Return to diyActive </a>
            </p>
          </div>
          <div class="col-xs-0 col-sm-1 col-md-2 col-lg-3"></div>
        </div>
      </div>
      <footer class="footer">
        <a href="index.html"> diyActive </a> &nbsp; | &nbsp;
        <a href="http://context.reelyactive.com">
          &copy; reelyActive 2014-2016
        </a>
      </footer>
    </div>
  </body>
</html>
